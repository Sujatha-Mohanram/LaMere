{"ast":null,"code":"import { BasePageComponent } from 'src/app/partials/base-page/base-page.component';\nimport { FacultyService } from 'src/app/shared/faculty.service';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"src/app/shared/faculty.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"../../partials/base-page/base-page.component\";\n\nfunction FacultyComponent_tr_71_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 30)(11, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function FacultyComponent_tr_71_Template_i_click_11_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r11);\n      const fac_r9 = restoredCtx.$implicit;\n      const ctx_r10 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r10.onEdit(fac_r9));\n    });\n    i0.ɵɵtext(12, \"edit\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(13, \"td\")(14, \"a\", 30)(15, \"i\", 31);\n    i0.ɵɵlistener(\"click\", function FacultyComponent_tr_71_Template_i_click_15_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r12 = i0.ɵɵnextContext();\n\n      const _r0 = i0.ɵɵreference(8);\n\n      return i0.ɵɵresetView(ctx_r12.onDelete(ctx_r12.facultyService.selectedFaculty._id, _r0));\n    });\n    i0.ɵɵtext(16, \"delete\");\n    i0.ɵɵelementEnd()()()();\n  }\n\n  if (rf & 2) {\n    const fac_r9 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fac_r9.firstname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fac_r9.lastname);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fac_r9.email);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(fac_r9.datecreated);\n  }\n}\n\nexport let FacultyComponent = /*#__PURE__*/(() => {\n  class FacultyComponent extends BasePageComponent {\n    constructor(route, facultyService) {\n      super(route);\n      this.facultyService = facultyService;\n    }\n\n    ngOnInit() {\n      this.resetForm();\n      this.refreshFacultyList();\n    }\n\n    resetForm(form) {\n      if (form) form.reset();\n      this.facultyService.selectedFaculty = {\n        _id: \"\",\n        firstname: \"\",\n        lastname: \"\",\n        schoolid: 0,\n        email: \"\",\n        password: \"\",\n        datecreated: \"\",\n        avtar: \"\"\n      };\n    }\n\n    onSubmit(form) {\n      if (form.value._id == \"\") {\n        this.facultyService.postFaculty(form.value).subscribe(res => {\n          this.resetForm(form);\n          this.refreshFacultyList();\n          M.toast({\n            html: 'Saved Successfully',\n            classes: 'rounded'\n          });\n        });\n      } else {\n        this.facultyService.putFaculty(form.value).subscribe(res => {\n          this.resetForm(form);\n          this.refreshFacultyList();\n          M.toast({\n            html: 'Updated Successfully',\n            classes: 'rounded'\n          });\n        });\n      }\n    }\n\n    refreshFacultyList() {\n      this.facultyService.getFacultyList().subscribe(res => {\n        this.facultyService.faculties = res;\n      });\n    }\n\n    onEdit(fac) {\n      this.facultyService.selectedFaculty = fac;\n    }\n\n    onDelete(_id, form) {\n      if (confirm('Are you sure to delete this record ?') == true) {\n        console.log('deleting');\n        this.facultyService.deleteFaculty(_id).subscribe(res => {\n          this.refreshFacultyList();\n          this.resetForm(form);\n          M.toast({\n            html: \"Deleted successfully\",\n            classes: 'rounded'\n          });\n        });\n      }\n    }\n\n  }\n\n  FacultyComponent.ɵfac = function FacultyComponent_Factory(t) {\n    return new (t || FacultyComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.FacultyService));\n  };\n\n  FacultyComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FacultyComponent,\n    selectors: [[\"app-faculty\"]],\n    features: [i0.ɵɵProvidersFeature([FacultyService]), i0.ɵɵInheritDefinitionFeature],\n    decls: 72,\n    vars: 9,\n    consts: [[1, \"mb-5\"], [1, \"mb-5\", \"text-center\"], [1, \"logotext\"], [1, \"row\", \"d-flex\", \"justify-content-left\"], [1, \"col-md-6\"], [3, \"ngSubmit\"], [\"facultyForm\", \"ngForm\"], [1, \"row\", \"mb-4\"], [1, \"col\"], [1, \"form-outline\"], [\"type\", \"hidden\", \"name\", \"_id\", 3, \"ngModel\", \"ngModelChange\"], [\"id\", \"ngModel\"], [\"type\", \"text\", \"name\", \"firstname\", \"placeholder\", \"Enter First name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"name\", \"ngModel\"], [\"for\", \"form3Example1\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"lastname\", \"placeholder\", \"Enter Last name\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"lastname\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"schoolid\", \"placeholder\", \"Enter SchoolID\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"schoolid\", 1, \"form-label\"], [\"type\", \"email\", \"name\", \"email\", \"placeholder\", \"Enter Email\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"email\", 1, \"form-label\"], [\"type\", \"password\", \"name\", \"password\", \"placeholder\", \"Enter Password\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"password\", 1, \"form-label\"], [\"type\", \"text\", \"name\", \"datecreated\", \"placeholder\", \"Enter Date Created\", \"required\", \"\", 1, \"form-control\", 3, \"ngModel\", \"ngModelChange\"], [\"for\", \"datecreated\", 1, \"form-label\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\", 3, \"disabled\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", \"btn-block\", \"mb-4\", 3, \"click\"], [\"border\", \"1\", 1, \"bordered\", \"striped\", \"centered\", \"highlight\", \"responsive-table\", 2, \"border-color\", \"darkgoldenrod\"], [1, \"boldtext\"], [4, \"ngFor\", \"ngForOf\"], [1, \"action-btn\"], [1, \"material-icons\", 3, \"click\"]],\n    template: function FacultyComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        const _r13 = i0.ɵɵgetCurrentView();\n\n        i0.ɵɵelement(0, \"app-base-page\");\n        i0.ɵɵelementStart(1, \"section\", 0)(2, \"h4\", 1)(3, \"strong\", 2);\n        i0.ɵɵtext(4, \"Faculty Details\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(5, \"div\", 3)(6, \"div\", 4)(7, \"form\", 5, 6);\n        i0.ɵɵlistener(\"ngSubmit\", function FacultyComponent_Template_form_ngSubmit_7_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r0 = i0.ɵɵreference(8);\n\n          return i0.ɵɵresetView(ctx.onSubmit(_r0));\n        });\n        i0.ɵɵelementStart(9, \"div\", 7)(10, \"div\", 8)(11, \"div\", 9)(12, \"input\", 10, 11);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_12_listener($event) {\n          return ctx.facultyService.selectedFaculty._id = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(14, \"input\", 12, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_14_listener($event) {\n          return ctx.facultyService.selectedFaculty.firstname = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(16, \"label\", 14);\n        i0.ɵɵtext(17, \"First name\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(18, \"div\", 8)(19, \"div\", 9)(20, \"input\", 15, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_20_listener($event) {\n          return ctx.facultyService.selectedFaculty.lastname = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(22, \"label\", 16);\n        i0.ɵɵtext(23, \"Last name\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(24, \"div\", 7)(25, \"div\", 8)(26, \"div\", 9)(27, \"input\", 17, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_27_listener($event) {\n          return ctx.facultyService.selectedFaculty.schoolid = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(29, \"label\", 18);\n        i0.ɵɵtext(30, \"School ID\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(31, \"div\", 8)(32, \"div\", 9)(33, \"input\", 19, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_33_listener($event) {\n          return ctx.facultyService.selectedFaculty.email = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(35, \"label\", 20);\n        i0.ɵɵtext(36, \"Email\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(37, \"div\", 7)(38, \"div\", 8)(39, \"div\", 9)(40, \"input\", 21, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_40_listener($event) {\n          return ctx.facultyService.selectedFaculty.password = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(42, \"label\", 22);\n        i0.ɵɵtext(43, \"Password\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(44, \"div\", 8)(45, \"div\", 9)(46, \"input\", 23, 13);\n        i0.ɵɵlistener(\"ngModelChange\", function FacultyComponent_Template_input_ngModelChange_46_listener($event) {\n          return ctx.facultyService.selectedFaculty.datecreated = $event;\n        });\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(48, \"label\", 24);\n        i0.ɵɵtext(49, \"Date Created\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(50, \"div\", 7)(51, \"div\", 8)(52, \"button\", 25);\n        i0.ɵɵtext(53, \" Create Faculty \");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(54, \"div\", 8)(55, \"button\", 26);\n        i0.ɵɵlistener(\"click\", function FacultyComponent_Template_button_click_55_listener() {\n          i0.ɵɵrestoreView(_r13);\n\n          const _r0 = i0.ɵɵreference(8);\n\n          return i0.ɵɵresetView(ctx.resetForm(_r0));\n        });\n        i0.ɵɵtext(56, \" Reset \");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(57, \"div\", 4)(58, \"table\", 27)(59, \"thead\", 28)(60, \"tr\")(61, \"td\", 28);\n        i0.ɵɵtext(62, \" First Name :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(63, \"td\", 28);\n        i0.ɵɵtext(64, \" Last Name :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(65, \"td\", 28);\n        i0.ɵɵtext(66, \" Email : \");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"td\", 28);\n        i0.ɵɵtext(68, \" Date created :\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(69, \"td\", 28)(70, \"td\", 28);\n        i0.ɵɵelementEnd();\n        i0.ɵɵtemplate(71, FacultyComponent_tr_71_Template, 17, 4, \"tr\", 29);\n        i0.ɵɵelementEnd()()()()();\n      }\n\n      if (rf & 2) {\n        const _r0 = i0.ɵɵreference(8);\n\n        i0.ɵɵadvance(12);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty._id);\n        i0.ɵɵadvance(2);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.firstname);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.lastname);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.schoolid);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.email);\n        i0.ɵɵadvance(7);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.password);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"ngModel\", ctx.facultyService.selectedFaculty.datecreated);\n        i0.ɵɵadvance(6);\n        i0.ɵɵproperty(\"disabled\", !_r0.valid);\n        i0.ɵɵadvance(19);\n        i0.ɵɵproperty(\"ngForOf\", ctx.facultyService.faculties);\n      }\n    },\n    dependencies: [i3.NgForOf, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.NgModel, i4.NgForm, i5.BasePageComponent]\n  });\n  return FacultyComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}